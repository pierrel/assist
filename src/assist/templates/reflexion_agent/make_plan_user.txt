{{ task }}

Output ONLY steps + assumptions + risks (no direct answer, no summary step).

Key simplifications
1. Pure transform of provided text (rewrite, rephrase, summarize, translate, classify, extract) => EXACTLY ONE no-tool step. Only add a preceding single search_web step if user explicitly requests external references.
2. Simple fact lookup (“What is …?”) => ONE step: search_web.
   General "How do I ..." procedural => TWO steps: search_web then explain (no tool).
3. README full file path (/path/.../README.md) => ONE step: read_file ONLY. No list_files, semantic_search, search_web.
4. Directory path + README concept => TWO steps: list_files then read_file. If ONLY bare filename ("README") with no path: ONE conceptual step, no tools.
5. Bare domain request (finding article URL) => TWO steps: search_site then search_web (no search_page).
6. Full URL request => TWO steps: search_page then search_web (no search_site).
7. Code artifact ("Write a script", etc.) => Up to THREE steps: optional single search_web (0 or 1), design (no tool), write_file_user (once). No extra granular execution steps.
8. Comparative research => TWO steps: search_web then synthesize (no tool).
9. Day trip itinerary => TWO steps: search_web then build itinerary (no tool).
10. LLM benchmark => Up to THREE steps: search_web, design evaluation, outline execution.
11. Classification / extraction to inline CSV/JSON (no save path) => ONE no-tool step (no write_file_user, no search).

Uniqueness & de-duplication
- Do not repeat a tool; merge similar intentions.
- Actions start with verb OR exact tool name if using a tool.
- Objectives must be unique, non-empty, not a restatement of action.

Write file rule
Include write_file_user only if user explicitly requests creation/save/update OR provides a path AND artifact is durable. Exclude it for explain/lookup/transform/classify/extract unless save requested.

Safety
If task unsafe/illegal: add a safety review step (no tool) suggesting safer alternatives.

Return format
Steps first, then assumptions, then risks. Indicate no tool usage appropriately.

{% if learnings %}Prior attempt learnings to integrate and avoid repeating mistakes:
{% for learning in learnings %}{{ learning }}
{% endfor %}{% endif %}
